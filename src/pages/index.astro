---
import BlogPreview from '../components/BlogPreview/index.jsx';
import Button from '../components/Button/index.jsx';
import Experience from '../components/Experience';
import Layout from '../layouts/Layout.astro';
import chakrauiLogo from '/assets/chakraui.avif';
import cssLogo from '/assets/css.avif';
import htmlLogo from '/assets/html5.avif';
import javascriptLogo from '/assets/javascript.avif';
import nextjsLogo from '/assets/nextjs.avif';
import reactLogo from '/assets/react.avif';
import tailwindcssLogo from '/assets/tailwindcss.avif';
import typescriptLogo from '/assets/typescript.avif';

const blogs = await Astro.glob('./blog/**/*.md');
const featuredBlog = blogs[0];

const experienceItems = [
	{
		date: "2021 - Presente",
		title: "Software Engineer Senior",
		company: "Paisanos.io",
		companyUrl: "https://www.paisanos.io/",
		description: "Aplicaciones web y m√≥viles con TypeScript, Next.js, React Native, NestJS y PostgreSQL."
	},
	{
		date: "2017 - 2020",
		title: "Software Engineer Semi Senior",
		company: "Nexa Inform√°tica",
		description: "Aplicaci√≥n de escritorio con Visual Fox Pro 9. Aplicaci√≥n web con C# y .NET. Aplicaci√≥n m√≥vil con Ionic Angular. Bases de datos SQL Server."
	},
	{
		date: "2017 - 2020",
		title: "Software Engineer Junior",
		company: "Mahon Sistemas",
		description: "Programaci√≥n de aplicaci√≥n de escritorio Visual Fox Pro 9. Aplicaci√≥n web con Genexus y C#. Bases de datos SQL Server."
	}
];

---

<Layout title="Mart√≠n Acosta | Software Engineer Senior">
	<header class="hero">
		<div>
			<h1 class="title">
				Mart√≠n Acosta
			</h1>
			<div class="roles">
				<span class="role">üë©‚Äçüíª Software Engineer</span>
			</div>
			<p class="description">+15 a√±os de experiencia</p>
		</div>
		<img
			class="img"
			src="/assets/martin_acosta.avif"
			srcset="/assets/martin_acosta.avif"
			alt="Imagen de una persona escribiendo en una notebook"
		/>
	</header>
	<section class="grid">
		<div class="section">
			<h2>Experiencia</h2>
			<Experience items={experienceItems} />
		</div>

		<div class="section">
			<h2>Acerca de m√≠</h2>
			<p class="bio">
				¬°Hola! üëã Soy Mart√≠n Acosta, Software Engineer Senior. Mas de 15 a√±os de experiencia en programaci√≥n...
				<a href="/acerca-de" class="btn">Leer m√°s sobre m√≠</a>
			</p>
		</div>

		<div class="section">
			<h2>Tecnolog√≠as</h2>
			<div class="techLogos">
				<div class="tech">
					<img src={htmlLogo} width="32" height="32" alt="Logo del lenguaje HTML5" /> HTML
				</div>
				<div class="tech">
					<img src={cssLogo} width="32" height="32" alt="Logo del lenguaje CSS" /> CSS 
				</div>
				<div class="tech">
					<img src={javascriptLogo} width="32" height="32" alt="Logo del lenguaje JavaScript" /> JavaScript
				</div>
				<div class="tech">
					<img src={typescriptLogo} width="32" height="32" alt="Logo del lenguaje TypeScript" /> TypeScript
				</div>
				<div class="tech">
					<img src={reactLogo} width="32" height="32" alt="Logo de la Librer√≠a React.js" /> React.js
				</div>
				<div class="tech">
					<img src={nextjsLogo} width="32" height="32" alt="Logo del Framework Next.js" /> Next.js
				</div>
				<div class="tech">
					<img src={chakrauiLogo} width="32" height="32" alt="Logo del Framework Chakra UI" /> ChakraUI
				</div>
				<div class="tech">
					<img src={tailwindcssLogo} width="32" height="32" alt="Logo de Tailwind CSS" /> TailwindCSS
				</div>
			</div>
		</div>

		<div class="section">
			<h2>Blog</h2>
			<BlogPreview blog={featuredBlog} />
			<div class="mt4 btn">
				<a href="/blog" class="btn">
					<Button>Ver m√°s publicaciones</Button>
				</a>
			</div>
		</div>
	</section>
</Layout>

<style lang="scss">
	$w-s: 750px;

	.hero {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 2rem;
		margin-bottom: 4rem;

		@media (min-width: $w-s) {
			padding-top: 1rem;
		}

		@media (max-width: $w-s) {
			flex-direction: column;
		}
	}

	.img {
		display: block;
		width: 100%;
		max-width: 30rem;
		height: auto;
		border-radius: 0.5rem;

		@media (max-width: $w-s) {
			margin-bottom: 4rem;
		}
	}

	.content {
		@media (min-width: $w-s) {
			padding: 1.8rem;
		}
	}

	.gradient,
	.gradient2 {
		pointer-events: none;
		mix-blend-mode: screen;
		width: 100%;
		height: 100%;
		position: absolute;
		top: 0;
		left: 0;
		z-index: 2;
	}

	.gradient2 {
		mix-blend-mode: multiply;
		background-size: cover;
	}

	.overlay {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 10;
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		justify-content: center;

		@media (min-width: $w-s) {
			padding-left: 1.8rem;
		}
	}

	.title {
		font-weight: 900;
		margin-bottom: 0.5rem;
		margin-top: 0;

		@media (min-width: $w-s) {
			font-size: var(--f-u6);
		}

		@media (max-width: $w-s) {
			font-size: var(--f-u6);
			margin-top: 2rem;
			display: flex;
			width: 100%;
			justify-content: center;
		}
	}

	.title:hover {
		opacity: 0.5;
	}

	.role {
		font-size: var(--f-u4);

		@media (max-width: $w-s) {
			font-size: var(--f-u2);
		}
	}

	.description {
		font-size: var(--f-u2);

		@media (max-width: $w-s) {
			font-size: var(--f-u1);
		}
	}

	.grid {
		margin-top: 4rem;
		display: grid;
		grid-gap: 8rem;
	}

	.wide-section {
		display: grid;
	}

	.sectionTitle {
		font-weight: 700;
		font-size: var(--f-u5);
		margin-top: 4rem;
		margin-bottom: 2rem;
	}

	.btn {
		color: var(--c-white);
	}

	.techLogos {
		display: flex;
		grid-gap: 8px;
		padding: 16px 0 0 16px;
		margin: 0 -16px;
		max-width: 100%;
		flex-wrap: wrap;
	}

	.tech {
		align-items: center;
		background: #fff;
		border-radius: 26px;
		border: 2px solid #eee;
		color: #111;
		display: flex;
		height: 55px;
		font-size: 1.3rem;
		padding: 0 16px;
		position: relative;
		transition: all .3s ease;
		grid-gap: 8px;
	}

	.tech:hover {
		border: 0.1rem solid #000;
		transform: scale(1.05);
		cursor: pointer;
	}

	.bio {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		line-height: 2;
		margin-bottom: 2rem;

		> span:first-of-type {
			line-height: 1;
			margin-bottom: 0.5em;
			display: block;
			font-weight: 700;
			font-size: var(--f-u3);
		}
	}

	.experience {
		display: flex;
		flex-direction: column;
		gap: 2rem;
		padding-top: 2rem;
		padding-bottom: 2rem;
		border-bottom: 1px solid #e7e7e750;
	}

	.experience-item {
		display: flex;
		gap: 2rem;
		
		@media (max-width: $w-s) {
			flex-direction: column;
			gap: 1rem;
		}
	}

	.timeline {
		display: flex;
		flex-direction: column;
		min-width: 150px;
	}

	.timeline-dot {
		width: 12px;
		height: 12px;
		background: #fff;
		border: 2px solid #eee;
		border-radius: 50%;
		margin-bottom: 0.5rem;
	}

	.timeline-date {
		color: #cacaca;
		font-size: 0.9rem;
	}

	.experience-content {
		flex: 1;
	}

	.experience-title {
		font-size: var(--f-u2);
		font-weight: 600;
		margin: 0;
	}

	.experience-company {
		color: var(--c-white);
		text-decoration: none;
		font-size: var(--f-u1);
		opacity: 0.8;
		display: inline-block;
		margin-top: 0.5rem;
		margin-bottom: 1.5rem;
		
		&:hover {
			opacity: 1;
		}
	}

	.experience-description {
		line-height: 1.6;
		margin: 0;
		opacity: 0.8;
	}
</style>