---
import BlogPreview from '../components/BlogPreview/index.jsx';
import Button from '../components/Button/index.jsx';
import Experience from '../components/Experience';
import Layout from '../layouts/Layout.astro';

const blogs = await Astro.glob('./blog/**/*.md');
const featuredBlog = blogs[0];

const experienceItems = [
	{
		date: "2021 - Presente",
		title: "Product Engineer / Software Engineer Senior",
		company: "Paisanos.io",
		companyUrl: "https://www.paisanos.io/",
		description: "Aplicaciones web y móviles con TypeScript, Next.js, React Native, NestJS y PostgreSQL."
	},
	{
		date: "2017 - 2020",
		title: "Software Engineer Semi Senior",
		company: "Nexa Informática",
		description: "Aplicación de escritorio con Visual Fox Pro 9. Aplicación web con C# y .NET. Aplicación móvil con Ionic Angular. Bases de datos SQL Server."
	},
	{
		date: "2011 - 2016",
		title: "Software Engineer Junior",
		company: "Mahon Sistemas",
		description: "Programación de aplicación de escritorio Visual Fox Pro 9. Aplicación web con Genexus y C#. Bases de datos SQL Server."
	}
];

const technologies = [
	"HTML", "CSS", "JavaScript", "TypeScript",
	"React.js", "Next.js", "ChakraUI", "TailwindCSS"
];

const jsonLd = {
	"@context": "https://schema.org",
	"@type": "Person",
	"name": "Martín Acosta",
	"url": "https://www.martinacosta.dev",
	"image": "https://www.martinacosta.dev/assets/martin_acosta.avif",
	"jobTitle": "Software Engineer Senior",
	"worksFor": {
		"@type": "Organization",
		"name": "Paisanos.io",
		"url": "https://www.paisanos.io/"
	},
	"description": "Software Engineer Senior con más de 15 años de experiencia en desarrollo web frontend. Especialista en TypeScript, React, Next.js.",
	"knowsAbout": ["JavaScript", "TypeScript", "React", "Next.js", "HTML", "CSS", "TailwindCSS", "Node.js", "PostgreSQL", "Desarrollo Web", "Frontend"],
	"address": {
		"@type": "PostalAddress",
		"addressRegion": "Buenos Aires",
		"addressCountry": "AR"
	},
	"sameAs": [
		"https://github.com/martinacostadev",
		"https://www.linkedin.com/in/martinacostadev/",
		"https://x.com/martinacostadev",
		"https://www.youtube.com/martinacostadev",
		"https://www.twitch.tv/martinacostadev"
	]
};
---

<Layout
	title="Martín Acosta | Software Engineer Senior | Desarrollador Frontend Argentina"
	description="Martín Acosta, Software Engineer Senior con más de 15 años de experiencia en desarrollo web. Especialista en TypeScript, React, Next.js. Buenos Aires, Argentina."
>
	<script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />

	<header class="hero">
		<div>
			<h1 class="title">Martín Acosta</h1>
			<p class="role">Software Engineer Senior</p>
			<p class="description">+15 años de experiencia en desarrollo web</p>
		</div>
		<img
			class="img"
			src="/assets/martin_acosta.avif"
			srcset="/assets/martin_acosta.avif"
			alt="Martín Acosta, Software Engineer Senior y desarrollador frontend"
			width="256"
			height="256"
			loading="eager"
		/>
	</header>

	<section class="sections">
		<div class="section">
			<h2 class="section-title">Experiencia profesional</h2>
			<Experience items={experienceItems} />
		</div>

		<div class="section">
			<h2 class="section-title">Acerca de mí</h2>
			<p class="bio">
				Soy Martín Acosta, Software Engineer Senior con más de 15 años de experiencia en desarrollo web y programación. Especializado en tecnologías frontend como React, Next.js y TypeScript.
			</p>
			<a href="/acerca-de" class="read-more">Leer más sobre mí &rarr;</a>
		</div>

		<div class="section">
			<h2 class="section-title">Tecnologías y habilidades</h2>
			<div class="techLogos">
				{technologies.map((tech) => (
					<span class="tech">{tech}</span>
				))}
			</div>
		</div>

		<div class="section">
			<h2 class="section-title">Blog de programación</h2>
			<BlogPreview blog={featuredBlog} />
			<div class="mt4">
				<a href="/blog" class="read-more">
					Ver más publicaciones &rarr;
				</a>
			</div>
		</div>
	</section>
</Layout>

<style lang="scss">
	.hero {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 2rem;
		margin-bottom: 3rem;

		@media (max-width: 680px) {
			flex-direction: column;
			text-align: center;
		}
	}

	.img {
		display: block;
		width: 100%;
		max-width: 16rem;
		height: auto;
	}

	.title {
		font-weight: 900;
		font-size: var(--f-u6);
		margin-bottom: 0.25rem;
		margin-top: 0;
		color: var(--text-primary);
	}

	.role {
		font-size: var(--f-u2);
		color: var(--text-secondary);
		margin: 0.25rem 0;
	}

	.description {
		font-size: var(--f-u1);
		color: var(--text-muted);
		margin: 0.25rem 0;
	}

	.sections {
		display: flex;
		flex-direction: column;
		gap: 4rem;
	}

	.section-title {
		font-size: var(--f-u3);
		font-weight: 700;
		margin-top: 0;
		margin-bottom: 1rem;
		color: var(--text-primary);
	}

	.bio {
		line-height: 1.8;
		color: var(--text-secondary);
		margin: 0;
	}

	.read-more {
		display: inline-block;
		margin-top: 0.75rem;
		color: var(--accent);
		text-decoration: none;
		font-size: 0.9rem;

		&:hover {
			color: var(--accent-hover);
		}
	}

	.techLogos {
		display: flex;
		gap: 0.5rem;
		flex-wrap: wrap;
	}

	.tech {
		display: inline-flex;
		align-items: center;
		background: var(--card-bg);
		border: 1px solid var(--border-color);
		border-radius: 2rem;
		color: var(--text-primary);
		font-size: 0.875rem;
		padding: 0.5rem 1rem;
		transition: border-color 0.15s ease, background-color 0.2s ease;

		&:hover {
			border-color: var(--text-muted);
		}
	}
</style>
